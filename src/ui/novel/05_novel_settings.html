<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小说创作工作室 - 5. 小说设置</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        * { font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
        body { background-color: #F5F5F7; }
        .design-frame { background: white; border-radius: 16px; overflow: hidden; box-shadow: 0 20px 60px rgba(0, 0, 0, 0.08); }
        .page-title { font-size: 2rem; font-weight: 300; color: #374151; margin-bottom: 1rem; padding-left: 0.5rem; border-left: 4px solid #3B82F6; }
        .page-container { max-width: 1600px; margin: 2rem auto; }
        ::-webkit-scrollbar { width: 6px; } ::-webkit-scrollbar-track { background: #f1f1f1; } ::-webkit-scrollbar-thumb { background: #d1d5db; border-radius: 3px; } ::-webkit-scrollbar-thumb:hover { background: #9ca3af; }
        .annotation { background: #FFFBEB; padding: 4px 10px; border-radius: 6px; font-size: 12px; font-weight: 500; color: #B45309; border: 1px solid #FDE68A; position: absolute; white-space: nowrap; z-index: 50; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1); }
    </style>
</head>
<body class="p-8">
    <div id="page-5" class="page-container">
        <h2 class="page-title">5. 小说设置页 (附模态框)</h2>
        <div class="design-frame">
            <div class="h-[1000px] flex">
                <!-- 侧边栏: 小说内部视图, "小说设置" 高亮 -->
                <aside class="w-64 bg-[#FAFAFA] border-r border-gray-100 flex flex-col flex-shrink-0">
                    <div class="p-4 space-y-4 border-b border-gray-100 h-20 flex items-center">
                       <a href="#" class="flex items-center gap-3 px-2">
                           <div class="w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center flex-shrink-0">
                                <svg class="w-6 h-6 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                            </div>
                            <div><h3 class="font-medium text-[#374151] text-sm">小说工作室</h3><p class="text-xs text-[#9CA3AF]">递归创作版</p></div>
                        </a>
                    </div>
                    <nav class="flex-1 px-4 py-6">
                        <div class="mb-6">
                            <a href="#" class="flex items-center gap-2 text-sm text-gray-500 hover:text-gray-800 px-3 py-2">
                                <i class="fa-solid fa-arrow-left-long"></i> 返回工作台
                            </a>
                        </div>
                        <p class="text-xs font-medium text-[#9CA3AF] px-3 mb-3 uppercase tracking-wider">当前小说</p>
                        <div class="space-y-1">
                            <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-[#6B7280] hover:bg-gray-100 rounded-lg text-sm">
                                <i class="fa-solid fa-pen-to-square w-5 text-center"></i><span>编辑视图</span>
                            </a>
                            <a href="#" class="flex items-center gap-3 px-3 py-2.5 bg-[#4B5563] text-white rounded-lg text-sm font-medium">
                                <i class="fa-solid fa-sliders w-5 text-center"></i><span>小说设置</span>
                            </a>
                            <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-[#6B7280] hover:bg-gray-100 rounded-lg text-sm">
                                <i class="fa-solid fa-clock-rotate-left w-5 text-center"></i><span>版本历史</span>
                            </a>
                            <a href="#" class="flex items-center gap-3 px-3 py-2.5 text-[#6B7280] hover:bg-gray-100 rounded-lg text-sm">
                                <i class="fa-solid fa-file-export w-5 text-center"></i><span>导出</span>
                            </a>
                        </div>
                    </nav>
                </aside>
                <main class="flex-1 bg-[#FCFCFC] flex flex-col">
                    <header class="h-20 px-8 flex items-center justify-between border-b border-gray-100 bg-white flex-shrink-0">
                        <div><h1 class="text-lg font-medium text-[#374151]">设置: 星际漫游者</h1></div>
                        <div class="flex items-center gap-3">
                             <img class="w-9 h-9 bg-gray-200 rounded-full object-cover" src="https://i.pravatar.cc/100?u=a042581f4e29026704d" alt="avatar">
                             <div><p class="text-sm font-medium text-[#374151]">创作者</p><p class="text-xs text-[#9CA3AF]">专业版</p></div>
                        </div>
                    </header>
                    <div class="flex-1 p-8 overflow-auto relative">
                        <div class="grid grid-cols-3 gap-8 max-w-7xl mx-auto">
                            <div class="col-span-2 space-y-6 bg-white p-6 rounded-lg border border-gray-100">
                                <h3 class="text-lg font-medium text-gray-800">基本信息</h3>
                                <div>
                                    <label class="text-sm font-medium text-gray-700">小说封面</label>
                                    <div class="mt-2 flex items-center gap-4">
                                        <img src="https://images.unsplash.com/photo-1589998059171-988d887df646?q=80&w=200" class="w-24 h-32 object-cover rounded-lg" alt="Cover">
                                        <div>
                                            <!-- 次要按钮 -->
                                            <button class="px-3 py-1.5 bg-white border border-gray-200 rounded-lg text-sm font-medium text-[#374151] hover:bg-gray-50">更换图片</button>
                                            <p class="text-xs text-gray-400 mt-2">JPG, PNG, GIF, 不超过 5MB</p>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                    <label for="novel-title" class="text-sm font-medium text-gray-700">小说标题</label>
                                    <input type="text" id="novel-title" value="星际漫游者" class="mt-2 w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                </div>
                                <div>
                                    <label for="novel-desc" class="text-sm font-medium text-gray-700">小说简介</label>
                                    <textarea id="novel-desc" rows="4" class="mt-2 w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">一部关于孤独宇航员在未知星系中寻找回家之路的科幻史诗。</textarea>
                                </div>
                                <div class="pt-6 border-t border-gray-100 flex justify-end">
                                    <!-- 主要按钮 -->
                                    <button class="px-5 py-2.5 bg-[#374151] text-white rounded-lg text-sm font-medium hover:bg-[#1f2937]">保存更改</button>
                                </div>
                            </div>
                            
                            <div class="col-span-1 space-y-6 bg-white p-6 rounded-lg border border-gray-100">
                                <h3 class="text-lg font-medium text-gray-800">参考内容管理</h3>
                                <p class="text-sm text-gray-500">将其他小说作为参考，AI在生成时会借鉴其风格、术语和设定。</p>
                                <div class="space-y-3">
                                    <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200">
                                        <div class="flex items-center gap-3 overflow-hidden">
                                            <img src="https://images.unsplash.com/photo-1532012197267-da84d127e765?q=80&w=100" class="w-8 h-10 object-cover rounded-md flex-shrink-0" alt="">
                                            <span class="text-sm font-medium text-gray-800 truncate">银河帝国</span>
                                        </div>
                                        <button class="text-gray-400 hover:text-red-500 flex-shrink-0"><i class="fa-solid fa-times"></i></button>
                                    </div>
                                </div>
                                <!-- 虚线框按钮 -->
                                <button class="w-full mt-4 px-4 py-2 bg-white border-2 border-dashed border-gray-300 rounded-lg text-sm font-medium text-gray-600 flex items-center justify-center gap-2 hover:border-blue-500 hover:text-blue-500">
                                    <i class="fa-solid fa-plus"></i> 添加参考小说
                                </button>
                                <div class="annotation" style="bottom: 15px; right: 15px;">点击此按钮将弹出下方模态框</div>
                            </div>
                        </div>

                        <!-- 模态框: 设为可见，并用绝对定位覆盖在页面上 -->
                        <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center z-40 p-8">
                            <div class="bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[80vh] flex flex-col">
                                <div class="p-6 border-b border-gray-200 flex justify-between items-center">
                                    <h3 class="text-lg font-medium text-gray-800">选择参考小说</h3>
                                    <button class="text-gray-400 hover:text-gray-800">×</button>
                                </div>
                                <div class="p-6 overflow-y-auto">
                                        <input type="text" placeholder="搜索小说..." class="w-full mb-4 pl-4 pr-4 py-2 bg-white border border-gray-200 rounded-lg text-sm outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                        <div class="space-y-2">
                                            <label class="flex items-center gap-4 p-3 rounded-lg hover:bg-gray-50 cursor-pointer">
                                                <input type="checkbox" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500">
                                                <img src="https://images.unsplash.com/photo-1544716278-ca5e3ac4030e?q=80&w=100" class="w-10 h-12 object-cover rounded" alt="">
                                                <div>
                                                    <p class="font-medium text-gray-800">月光下的约定</p>
                                                    <p class="text-xs text-gray-500">现代言情</p>
                                                </div>
                                            </label>
                                            <div class="relative">
                                                <label class="flex items-center gap-4 p-3 rounded-lg opacity-50 bg-gray-100 cursor-not-allowed">
                                                    <input type="checkbox" class="h-4 w-4 rounded border-gray-300" disabled>
                                                    <img src="https://images.unsplash.com/photo-1512820790803-83ca734da794?q=80&w=100" class="w-10 h-12 object-cover rounded" alt="">
                                                    <div>
                                                        <p class="font-medium text-gray-800">深渊密码</p>
                                                        <p class="text-xs text-gray-500">悬疑惊悚 (已引用其他作品)</p>
                                                    </div>
                                                </label>
                                                <div class="annotation" style="top: 10px; right: 10px; z-index: 10;">
                                                    <i class="fa-solid fa-info-circle mr-1"></i>
                                                    为防止无限递归，已包含参考项的书籍无法被再次引用。
                                                </div>
                                            </div>
                                        </div>
                                </div>
                                <div class="p-6 bg-gray-50 border-t border-gray-200 flex justify-end gap-3">
                                    <button class="px-4 py-2 bg-white border border-gray-200 rounded-lg text-sm font-medium text-[#374151] hover:bg-gray-100">取消</button>
                                    <button class="px-4 py-2 bg-[#374151] text-white rounded-lg text-sm font-medium hover:bg-[#1f2937]">确认选择 (1)</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>
</body>
</html>